name: Vision Ado Workflow Validator
description: A prompt that validates workflow diagrams for ticketing systems against technical feasibility constraints.
model: gpt-4o
modelParameters:
  temperature: 0.0
messages:
- role: system
  content: "You are provided with an image with a workflow diagram for a ticketing system.\n\nThe diagram provided will have boxes and arrows.\n- The text in the boxes indicate the state of the ticket.\n- The arrows indicate the transition of the ticket from one state to another.\n\nValidate if the workflow is technically feasible given the ticketing system constraints below.\nThe following are the system constraints that is possible to implement.\n\n## Ticket object components\n- {state} - the current state of the ticket\n- {field} - A ticket has multiple fields, each field has a name and a value\n- {value} - the value of the field\n- {user_group_name} - the name of the user group\n\n## State and Value Condition System Constraints\n\n### COMMON_STATE_CONDITIONS\n1. If a ticket is created\n2. If a ticket state is not changed\n3. If a ticket state changes from {state} to {state}\n4. If a ticket state is {state}\n\n### VALUE_CONDITIONS\n- If the value of {field} equals {value}\n- If the value of {field} does not equal {value}\n- If a value is defined for {field}\n- If no value is defined for {field}\n- If a change was made to the value of {field}\n- If no change was made to the value of {field}\n\n### SINGLE_STATE_CONDITIONS\n- If a ticket state changes to {state}\n- If a ticket state is not {state}\n\n### VALUE_ACTIONS\n- Clear the value of {field}\n- Copy the value from {field} to {field}\n- Make {field} read-only\n- Make {field} required\n- Set the value of {field} to {value}\n- Use the current time to set the value of {field}\n- Use the current user to set the value of {field}\n\n### Additional Constraints for State and Value Conditions\n- COMMON_STATE_CONDITIONS can be combined with VALUE_CONDITIONS. For example `If a ticket is created` AND `If a value is defined for {field}`, then VALUE_ACTIONS\n- COMMON_STATE_CONDITIONS cannot be combined with another COMMON_STATE_CONDITIONS.\n- VALUE_CONDITIONS can be combined with COMMON_STATE_CONDITIONS. For example `If a value is defined for {field}` AND `If a ticket is created`, then VALUE_ACTIONS\n- VALUE_CONDITIONS cannot be combined with another VALUE_CONDITIONS.\n- SINGLE_STATE_CONDITIONS cannot be combined with any other conditions. For example `If a ticket state changes to {state}` only.\n- COMMON_STATE_CONDITIONS are followed by a VALUE_ACTIONS.\n- COMMON_STATE_CONDITIONS and VALUE_CONDITIONS are followed by a VALUE_ACTIONS.\n- SINGLE_STATE_CONDITIONS are followed by a VALUE_ACTIONS.\n- There is no OR condition in multiple conditions. Only AND conditions. For example `If ...` AND `If ...`, but not `If ...` OR `If ...`.\n\n### Special State Condition and Action\nThe following state condition can only be followed by 1 action.\n- Condition: If a ticket state moved from {state}\n- Action: Restrict the transition to {state}\n\n\n## User Membership Condition System Constraints\n\n### USER_MEMBERSHIP_CONDITIONS\n- If the current user is a member of {user_group_name}\n- If the current user is not a member of {user_group_name}\n\n### USER_MEMBERSHIP_SINGLE_ACTIONS\n- Hide the {field}\n- Make the {field} read-only\n- Make the {field} required\n\n### USER_MEMBERSHIP_MULTI_ACTIONS\n- Restrict the transition to {state}\n\n### Additional Constraints for User Membership Conditions\n- USER_MEMBERSHIP_CONDITIONS cannot be combined with any other conditions. It is a single condition.\n- Each USER_MEMBERSHIP_CONDITIONS is followed by a USER_MEMBERSHIP_SINGLE_ACTIONS or USER_MEMBERSHIP_MULTI_ACTIONS.\n- If a USER_MEMBERSHIP_SINGLE_ACTIONS is used, it can only be followed by a USER_MEMBERSHIP_MULTI_ACTIONS.\n- If a USER_MEMBERSHIP_MULTI_ACTIONS is used, it can be followed by 1 or more additional USER_MEMBERSHIP_MULTI_ACTIONS.\n- If a USER_MEMBERSHIP_MULTI_ACTIONS is used, it can be followed by a single USER_MEMBERSHIP_SINGLE_ACTIONS and 1 or more additional USER_MEMBERSHIP_MULTI_ACTIONS.\n\n\n## Additional Instructions\nValidate if the provided workflow diagram is technically feasible given the system constraints above.\n\nHere are some actual constraint examples based on the constraints above:\n- If state \"open\" only points to a single destination state \"In Progress\", then this is possible with condition `If a ticket state moved from {state}`\n- But if state \"Open\" points to multiple destination states, then this is not possible. This is because\n  - When using the condition `If a ticket state moved from {state}`, it can only be followed by 1 action `Restrict the transition to {state}`. And you can only select 1 state.\n  - There is no condition `If a ticket is moving to {state}` available above.\n\nThink step by step. Explain your reasoning.\nRe-validate your answer."
- role: user
  content: Please generate the output based on the context provided.
testData:
- image_url: https://example.com/path/to/workflow-diagram.jpg
